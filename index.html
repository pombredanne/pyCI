<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Pyci by tbraun89</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Pyci</h1>
        <h2>a minimal CI server</h2>
        <a href="https://github.com/tbraun89/pyCI" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a id="pyci---a-minimal-ci-server" class="anchor" href="#pyci---a-minimal-ci-server" aria-hidden="true"><span class="octicon octicon-link"></span></a>pyCI - a minimal CI server</h1>

<p>pyCI is a minimal CI server with web interface and a commandline
runner for small systems like <code>A10-OLinuXino-LIME</code> or <code>Raspberry Pi</code>
that have not much resources.</p>

<p>The server monitors the Git repositories of your configured projects
and starts a new build if there was a change. If the return value of
a build step is not <code>0</code> or there are messages logged in <code>stderr</code> the
build will fail.</p>

<p>All logs of <code>stdout</code> and <code>stderr</code> are stored for each build an can be
displayed in the web interface.</p>

<h2>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Requirements</h2>

<ul>
<li>Python 2.7.x</li>
<li>Python <code>daemon</code> library</li>
<li>Python <code>pysqlite</code> library</li>
</ul>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<h3>
<a id="pyci" class="anchor" href="#pyci" aria-hidden="true"><span class="octicon octicon-link"></span></a>pyCI</h3>

<ul>
<li>clone the Git repository</li>
<li>run <code>sudo python setup.py install</code>
</li>
<li>edit the <code>/etc/pycirc</code> file and add your projects</li>
<li>start the service with <code>sudo service pyCI start</code>
</li>
</ul>

<p>An init script will be automatically added on install. The asserts
for the web interface are copied to <code>/var/www/pyci</code> and owned by the
user and group <code>www-data</code>.</p>

<h3>
<a id="web-interface-nginx--fcgiwrap" class="anchor" href="#web-interface-nginx--fcgiwrap" aria-hidden="true"><span class="octicon octicon-link"></span></a>Web Interface (Nginx + fcgiwrap)</h3>

<ul>
<li>create a new server file under <code>/etc/nginx/sites-available</code>
</li>
<li>create a symbolic link to the server file in <code>/etc/nginx/sites-enabled</code>
</li>
<li>configure the server</li>
</ul>

<p><b></b></p>

<pre><code>server {
    listen      80;
    server_name SERVER_NAME;

    location ~* ^.+\.(css|png|ico|js)$ {
        root    /var/www/pyci;
        expires 30d;
    }    

    location / {
        fastcgi_pass  unix:/var/run/fcgiwrap.socket;
        fastcgi_param SCRIPT_FILENAME /usr/local/bin/pyci.cgi;
        fastcgi_param PATH_INFO $uri;
        fastcgi_param QUERY_STRING $args;
    }
}
</code></pre>

<h2>
<a id="configuration" class="anchor" href="#configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configuration</h2>

<p>The configuration is stored in <code>/etc/pycirc</code> with an example.</p>

<pre><code>start_config                       start the global server configuration section
config.build_success=command       run "command" after a successful build
config.build_failed=command        run "command" after a failed build
config.vcs_error=command           run "command" if pyCI can not connect to the VCS
                                   "command" if all status are unknown

new_repo                           start a new project configuration section
repo.url=URL_TO_GIT                url to the remote git repository
repo.branch=BRANCH                 the branch that should be used (default: master)
repo.name=My Project               unique name of the project
repo.step0=command                 "command" executed in the first build step
repo.step1=command                 "command" executed in the second build step
repo.step2=...
</code></pre>

<h2>
<a id="running-the-tests" class="anchor" href="#running-the-tests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Running the Tests</h2>

<p>To run the tests you just have to change to the test folder and run the <code>suite.py</code> file.</p>

<pre><code>cd tests
python suite.py
</code></pre>

<h2>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributing</h2>

<ol>
<li>Fork it (<a href="https://github.com/tbraun89/pyCI/fork">https://github.com/tbraun89/pyCI/fork</a>)</li>
<li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li>
<li>Add your feature and don't forget the tests</li>
<li>Commit your changes (<code>git commit -am 'Add some feature'</code>)</li>
<li>Push to the branch (<code>git push origin my-new-feature</code>)</li>
<li>Create a Pull Request</li>
</ol>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/tbraun89/pyCI/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/tbraun89/pyCI/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/tbraun89/pyCI"></a> is maintained by <a href="https://github.com/tbraun89">tbraun89</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
